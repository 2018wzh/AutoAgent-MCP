{
    "name": "mining_conditions_workflow",
    "system_input": {
        "key": "math_problem",
        "description": "The math problem that user wants to solve."
    },
    "system_output": {
        "key": "solution",
        "description": "The detailed solution of the math problem, including steps and final answer."
    },
    "global_variables": {},
    "agents": [
        {
            "name": "Objective Extraction Agent",
            "description": "This agent is specialized in analyzing math problems and extracting the main objective or question being asked.",
            "category": "new",
            "tools": null
        },
        {
            "name": "Condition Extraction Agent",
            "description": "This agent is specialized in identifying and extracting all relevant conditions, given values, and constraints from the math problem.",
            "category": "new",
            "tools": null
        },
        {
            "name": "Math Solver Agent",
            "description": "This agent is specialized in evaluating whether conditions are sufficient and solving math problems using appropriate mathematical methods.",
            "category": "new",
            "tools": null
        }
    ],
    "events": [
        {
            "name": "on_start",
            "input": {
                "key": "math_problem",
                "description": "The original math problem text."
            },
            "task": "Extract the main objective or question from the math problem.",
            "outputs": [
                {
                    "key": "objective",
                    "description": "The clearly defined objective or question that needs to be solved.",
                    "condition": null,
                    "action": {
                        "type": "RESULT",
                        "value": null
                    }
                }
            ],
            "listen": null,
            "agent": {
                "name": "Objective Extraction Agent",
                "model": "gpt-4o-2024-08-06"
            }
        },
        {
            "name": "extract_conditions",
            "input": {
                "key": "objective",
                "description": "The objective of the math problem."
            },
            "task": "Extract all relevant conditions, given values, and constraints from the math problem.",
            "outputs": [
                {
                    "key": "conditions",
                    "description": "List of all identified conditions and constraints.",
                    "condition": null,
                    "action": {
                        "type": "RESULT",
                        "value": null
                    }
                }
            ],
            "listen": [
                "on_start"
            ],
            "agent": {
                "name": "Condition Extraction Agent",
                "model": "gpt-4o-2024-08-06"
            }
        },
        {
            "name": "evaluate_and_solve",
            "input": {
                "key": "conditions",
                "description": "The extracted conditions and constraints."
            },
            "task": "Evaluate if conditions are sufficient and solve the math problem if possible.",
            "outputs": [
                {
                    "key": "insufficient_conditions",
                    "description": "Conditions are not sufficient to solve the problem.",
                    "condition": "If the current conditions are not enough to solve the problem.",
                    "action": {
                        "type": "GOTO",
                        "value": "extract_conditions"
                    }
                },
                {
                    "key": "solution",
                    "description": "Complete solution with steps and final answer.",
                    "condition": "If conditions are sufficient to solve the problem.",
                    "action": {
                        "type": "RESULT",
                        "value": null
                    }
                }
            ],
            "listen": [
                "extract_conditions"
            ],
            "agent": {
                "name": "Math Solver Agent",
                "model": "gpt-4o-2024-08-06"
            }
        }
    ]
}